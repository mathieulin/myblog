---
title: "后端项目傻逼式部署"                         
author: "mathieu"  
description : "这是一个你奶奶都能懂的后端项目部署博客"    
date: 2022-06-01      
lastmod: 2022-06-01            

tags : [                                    
"环境部署",
]
categories : [                              
"后端",
]
keywords : [                                
"后端部署",
]

---


可能会有所遗漏，建议还是配合视频使用吧
### 1. conda环境的安装

lab7/resource下有miniconda包，传到服务器上

bash Miniconda.....安装无脑莽



### 2. Conda 启动



conda create --name django python=3.8

conda activate django



### 3.将项目传到服务器

pip install -r requirements.txt

pip install django-cors-headers

python manage.py runserver 0.0.0.0:8000



### 3.tmux后台挂载后端项目

sudo apt install tmux

tmux new -s django

conda activate django

cd /home/Todolist/todolist_backend

python manage.py runserver 0.0.0.0:8000

#重新连接

tmux attach-session django

### 4. 不如uwsgi

conda activate django

conda install -c conda-forge uwsgi



**在项目目录下**(/home/Todolist/todolist_backend)

touch uwsgi.ini

```plain
[uwsgi]
socket = 127.0.0.1:8080
chdir = /home/Todolist/todolist_backend
wsgi-file = /home/Todolist/todolist_backend/djangoProject/wsgi.py
master = true
eneble-threads = true
processes = 8
buffer-size = 65536
vacuum = true
daemonize = /home/Todolist/todolist_backend/uswgi.log
virtualenv = /root/miniconda3/envs/django
uwsgi_read_timeout = 600
threads = 4
chmod-socket = 664
```

#### 运行

uwsgi --ini uwsgi.ini

#### 停止

lsof -i:8080或者

ps -ef|grep uwsgi

一个个进程kill



### 5. nginx



（这里前端也要使用）



```plain
sudo systemctl start nginx

//检查一下
sudo nginx -t

//重启一下
sudo nginx -s reload
```

怎么更新不了，奇了怪了

